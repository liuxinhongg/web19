<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				padding: 0;
				margin: 0;
			}
			.box{
				width: 85%;
				overflow: hidden;
				margin: 100px auto;
			}
			.item{
				width: 280px;
				height: 330px;
				float: left;
				border: 1px solid red;
				margin: 10px;
			}
			.item img{
				width: 280px;
				height: 280px;
			}
			.item h3{
				width: 280px;
				height: 50px;
				line-height: 50px;
				text-align: center;
				overflow: hidden;
				white-space: nowrap;
				text-overflow: ellipsis;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<!-- <div class="item">
				<img src="" >
				<h3></h3>
			</div> -->
		</div>
		<script src="./js/ajax.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			/* options:{
				url,
				type,
				datatype,
				success:function(res){}
			} */
			/* var $={
				ajax:function(options){
					//处理url
					var url=options.url;
					if(url===undefined){
						throw new Error("ajax必须写url");
						return;
					}
					//处理type
					var type=options.type||"get";//请求类型，默认是
					var datatype=options.datatype||"string";//返回的数据类型，默认是string
					var xhr=null;
					if(window.XMLHttpRequest){
						xhr=new XMLHttpRequest();
					}else{
						xhr=new ActiveXObject("Microsoft.XMLHTTP");
					}
					xhr.onreadystatechange=function(){
						if(xhr.readyState===4){
							if(xhr.status>=200&&xhr.status<300||xhr.status===304){
								if((typeof options.success)==="function"){
									var response="";
									if(datatype==="string"){
										response=xhr.responseText;
									}else if(datatype==="json"){
										response=JSON.parse(xhr.responseText);
									}
									options.success(response);//回调函数
								}
							}
						}
					}
					xhr.open(type,url,true);
					xhr.send(null);
				}
			} */
			var box=document.getElementsByClassName("box")[0];
			$.ajax({
				type:"get",
				url:"data.json",
				// datatype:"string",
				success:function(response){
					console.log(response);
					var datalist=response.showapi_res_body.contentlist;
					var str=""
					for (var i=0;i<datalist.length;i++) {
						str+='<div class="item"><img src="'
								+datalist[i].img+
								'" ><h3>'
								+datalist[i].title+
								'</h3></div>'
					}
					box.innerHTML=str;
				}
			})
			
		</script>
	</body>
</html>
